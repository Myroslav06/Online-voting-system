DROP TABLE IF EXISTS candidates;
DROP TABLE IF EXISTS votings;

CREATE TABLE votings (
    id UUID DEFAULT RANDOM_UUID() PRIMARY KEY,
    title VARCHAR(255) NOT NULL,
    owner_name VARCHAR(255),
    active BOOLEAN DEFAULT TRUE
);

CREATE TABLE candidates (
    id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    name VARCHAR(255) NOT NULL,
    votes INT DEFAULT 0,
    voting_id UUID,
    FOREIGN KEY (voting_id) REFERENCES votings(id) ON DELETE CASCADE
);